<head>
  <title>
    Local Chat
  </title>
</head>

<body>
  <header>
  	<h1>Local Chat</h1>
	<a class="menu_toggle" href="">Menu</a>
  </header>
  <menu>
  	<ul>
    	<li><a href="">menu item 1</a></li>
        <li><a href="">menu item 2</a></li>
    </ul>
  </menu>
  {{> base }}
</body>

<template name="base">
  {{#if userLoggetIn}}
    {{> chat }}
    <div class="messageInput">
      <input type="text" id="text">
      <input type="submit" id="submit">
    </div>
  {{else}}
    {{#if loggingIn}}
      <p>Logging in . . .</p>
    {{else}}
      {{#if creatingAccount}}
        {{> newAccountForm}}
      {{else}}
        {{> signIn}}
      {{/if}}
    {{/if}}
  {{/if}}
</template>

<template name="chat">
  <ul class="chat">
    {{#each collection}}
    <li>
      <span class="name">{{ name }}</span><p class="message">{{ message }}</p>
    </li>
    {{/each}}
  </ul>
</template>

<template name="signIn">
  <div class="login-wrapper">
    <label for="name">User name</label>
    <input id="name" type="text" placeholde="name" />
    <label for="password">Password</label>
    <input id="password" type="password" placeholde="password" />
    <button id="signIn">Sign in</button>
    <p id="toCreateAccountPage">(Create account)</p>
  </div>
</template>

<template name="newAccountForm">
  <div class="login-wrapper">
    <label for="name">User name</label>
    <input id="name" type="text" placeholde="name" />
    <label for="password">Password</label>
    <input id="password" type="password" placeholde="password" />
    <input id="password-conf" type="password" placeholde="password" />
    <button id="create">Create</button>
    <p id="toSignInPage">(Sign In)</p>
  </div>
</template>
